<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>我爱我家装修公司</title>
    <meta name="robots" content="index, follow">
    <meta name="description"
          content="Pronia plant store bootstrap 5 template is an awesome website template for any home plant shop.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Path/css/plugins.min.css">
    <link rel="stylesheet" href="Path/css/style.min.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="Path/css/reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" type="text/css" href="Path/css/htmleaf-demo.css">
    <link rel="stylesheet" href="Path/css/search.css"> <!-- Resource style -->
    <script src="Path/js/modernizr.js"></script> <!-- Modernizr -->
    <link rel="icon" href="Path/image/newlogo.png">
    <link rel="canonical" href="https://getbootstrap.com/docs/3.4/examples/dashboard/">
    <link href="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/css/ie10-viewport-bug-workaround.css"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
          integrity="sha384-olOxEXxDwd20BlATUibkEnjPN3sVq2YWmYOnsMYutq7X8YcUdD6y/1I+f+ZOq/47" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="Path/css/dmaku.css"/>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-NU/T4JKmgovMiPaK2GP9Y+TVBQxiaiYFJB6igFtfExinKlzVruIK6XtKqxCGXwCG"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/ie8-responsive-file-warning.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/ie-emulation-modes-warning.js"></script>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.0.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"
            integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
            crossorigin="anonymous"></script>

    <link href="Path/css/jquery.searchableSelect.css" rel="stylesheet" type="text/css">
    <script src="Path/js/jquery-1.11.1.min.js"></script>
    <script src="Path/js/jquery.searchableSelect.js"></script>

    <script>window.jQuery || document.write('<script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/vendor/holder.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/ie10-viewport-bug-workaround.js"></script>


    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="Path/css/material.min.css"/>
    <link rel="stylesheet" href="Path/css/bootstrap-material-datetimepicker.css"/>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,500' rel='stylesheet' type='text/css'>

    <script async>
        function fp_ready() {
            // setting custom defaults
            Flatpickr.l10n.firstDayOfWeek = 1;

            //Regular flatpickr
            document.getElementById("flatpickr-tryme").flatpickr();

            // Date format
            var fpInstance = new Flatpickr(document.createElement("input")),
                formatOutput = document.getElementById("dateFormatOutput"),
                now = new Date();

        }
    </script>
    <script async src="Path/js/flatpickr.js" onload="fp_ready()"></script>


    <!--    <link rel="stylesheet" type="text/css" href="assets/site.css">-->
    <link rel="stylesheet" id=cal_style type="text/css" href="Path/css/flatpickr.min.css">

    <!--    <script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>-->
</head>

<body>
<div class="preloader-activate preloader-active open_tm_preloader">
    <div class="preloader-area-wrap">
        <div class="spinner d-flex justify-content-center align-items-center h-100">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
</div>

<!--头部-->
<header class="main-header-area">
    <!--固定顶部-->
    <div class="header-top bg-pronia-primary d-none d-lg-block">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-6">
                    <div class="header-top-left">
                        <img src="Path/image/location.png" width="20px" height="20px">
                        <span class="pronia-offer">城市</span>
                    </div>
                </div>
                <div class="col-6">
                    <div class="header-top-right">
                        <ul class="dropdown-wrap">
                            <li class="dropdown d-none d-lg-block">
                                <button class="btn btn-link dropdown-toggle ht-btn p-0" type="button"
                                        id="settingButton" data-bs-toggle="dropdown" aria-label="setting"
                                        aria-expanded="false" th:text="${#request.getSession().getAttribute('name')}"
                                        th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                </button>
                                <a class="btn btn-link dropdown-toggle ht-btn p-0"
                                   th:href="@{/login}"
                                   th:if="${#strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                    登录
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="settingButton"
                                    th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                    <li><a class="dropdown-item"
                                           th:if="${#request.getSession().getAttribute('role') eq 'admin'}"
                                           th:href="@{/admin/index}">管理员界面</a></li>
                                    <li><a class="dropdown-item"
                                           th:if="${#request.getSession().getAttribute('role') eq 'designer'}"
                                           th:href="@{/admin/index}">设计师界面</a></li>
                                    <li><a class="dropdown-item" th:href="@{/account}">个人信息</a></li>
                                    <li><a class="dropdown-item" th:href="@{/logout}">退出</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 导航条 -->
    <div class="header-middle py-30">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="header-middle-wrap position-relative cd-main-header">
                        <div class="header-contact d-none d-lg-flex">
                            <i class="pe-7s-call"></i>
                            <a href="tel://+00-123-456-789">+00 123 456 789</a>
                        </div>
                        <a class="header-logo">
                            <img src="Path/picture/dark.png" alt="Header Logo">
                        </a>
                        <!--                            搜索框-->
                        <nav class="cd-main-nav-wrapper">
                            <a href="#search" class="cd-search-trigger cd-text-replace">Search</a>
                        </nav> <!-- .cd-main-nav-wrapper -->
                        <a href="#0" class="cd-nav-trigger cd-text-replace">Menu<span></span></a>
                        <div id="search" class="cd-main-search">
                            <form th:action="@{/searchDesigner}" method="post">
                                <input type="search" name="searchText" placeholder="Search...">
                                <div class="cd-select">
                                    <select name="category">
                                        <option value="designer">设计师</option>
                                        <option value="worker">施工人员</option>
                                    </select>
                                    <span class="selected-value">设计师</span>
                                </div>
                            </form>
                            <a href="#0" class="close cd-text-replace">Close Form</a>
                        </div> <!-- .cd-main-search -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="header-bottom d-none d-lg-block">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-menu position-relative">
                        <nav class="main-nav">
                            <ul>
                                <!--                                    首页-->
                                <li>
                                    <a th:href="@{index}">&nbsp;&nbsp;&nbsp;&nbsp;首页&nbsp;&nbsp;&nbsp;</a>
                                </li>
                                <!--                                    精装案例-->
                                <li>
                                    <a th:href="@{fullwidth}">精装案例</a>
                                </li>
                                <!--                                    设计团队-->
                                <li>
                                    <a th:href="@{designer-list}">设计团队</a>
                                </li>
                                <!--                                    施工团队-->
                                <li>
                                    <a th:href="@{worker-list}">施工团队</a>
                                </li>
                                <!--                                    营销活动-->
                                <li class="drop-holder">
                                    <a th:href="@{discount/1}">营销活动</a>
                                    <ul class="drop-menu">
                                        <li th:each="set : ${setInfo}">
                                            <a style="font-size: 15px" th:text="${set.name}"
                                               th:href="@{discount/}+${set.setId}"></a>
                                        </li>
                                    </ul>
                                </li>
                                <!--                                在线预约-->
                                <li>
                                    <a th:href="@{bookOnline}">在线预约</a>
                                </li>
                                <!--                                    联系我们-->
                                <li>
                                    <a th:href="@{contact}">联系我们</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="header-sticky py-4 py-lg-0">
        <div class="container">
            <div class="header-nav position-relative">
                <div class="row align-items-center">
                    <div class="col-lg-3 col-6">

                        <a href="" class="header-logo" style="margin-right: 20px">
                            <img src="Path/picture/dark.png" alt="Header Logo">
                        </a>

                    </div>
                    <div class="col-lg-6 d-none d-lg-block">
                        <div class="main-menu">
                            <nav class="main-nav">
                                <ul>
                                    <li>
                                        <a th:href="@{index}">&nbsp;&nbsp;&nbsp;&nbsp;首页&nbsp;&nbsp;&nbsp;</a>
                                    </li>
                                    <!--                                    精装案例-->
                                    <li>
                                        <a th:href="@{fullwidth}">精装案例</a>
                                    </li>
                                    <!--                                    设计团队-->
                                    <li>
                                        <a th:href="@{designer-list}">设计团队</a>
                                    </li>
                                    <!--                                    施工团队-->
                                    <li>
                                        <a th:href="@{worker-list}">施工团队</a>
                                    </li>
                                    <!--                                    营销活动-->
                                    <li class="drop-holder">
                                        <a th:href="@{discount/1}">营销活动</a>
                                        <ul class="drop-menu">
                                            <li th:each="set : ${setInfo}">
                                                <a style="font-size: 15px" th:text="${set.name}"
                                                   th:href="@{discount/}+${set.setId}"></a>
                                            </li>
                                        </ul>
                                    </li>
                                    <!--                                    在线预约-->
                                    <li>
                                        <a th:href="@{bookOnline}">在线预约</a>
                                    </li>
                                    <!--                                    联系我们-->
                                    <li>
                                        <a th:href="@{contact}">联系我们</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-lg-3 col-6">
                        <div class="header-right">
                            <ul>
                                <li class="dropdown d-none d-lg-block">
                                    <button class="btn btn-link dropdown-toggle ht-btn p-0" type="button"
                                            id="stickysettingButton" data-bs-toggle="dropdown" aria-label="setting"
                                            aria-expanded="false"
                                            th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <i class="pe-7s-users"></i>
                                    </button>
                                    <button class="btn btn-link dropdown-toggle ht-btn p-0" type="button"
                                            data-bs-toggle="dropdown" aria-label="setting"
                                            aria-expanded="false"
                                            th:if="${#strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <i class="pe-7s-users"></i>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="settingButton"
                                        th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <li><a class="dropdown-item" th:href="@{/account}">个人信息</a></li>
                                        <li><a class="dropdown-item" th:href="@{/logout}">退出</a></li>
                                    </ul>
                                    <ul class="dropdown-menu" aria-labelledby="settingButton"
                                        th:if="${#strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <li><a class="dropdown-item" th:href="@{/login}">登录</a></li>
                                    </ul>
                                </li>
                                <li class="mobile-menu_wrap d-block d-lg-none">
                                    <a href="#mobileMenu" class="mobile-menu_btn toolbar-btn pl-0">
                                        <i class="pe-7s-menu"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mobile-menu_wrapper" id="mobileMenu">
        <div class="offcanvas-body">
            <div class="inner-body">
                <div class="offcanvas-top">
                    <a href="#" class="button-close"><i class="pe-7s-close"></i></a>
                </div>
                <div class="header-contact offcanvas-contact">
                    <i class="pe-7s-call"></i>
                    <a href="tel://+00-123-456-789">+00 123 456 789</a>
                </div>
                <div class="offcanvas-user-info">
                    <ul class="dropdown-wrap">
                        <li class="dropdown dropdown-left">
                            <button class="btn btn-link dropdown-toggle ht-btn usd-dropdown" type="button"
                                    id="settingButtonTwo" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="pe-7s-users"></i>
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="settingButtonTwo">
                                <li><a class="dropdown-item" th:href="@{account}">My account</a></li>
                                <li><a class="dropdown-item" th:href="login-register">Login | Register</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>
                                <i class="pe-7s-like"></i>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="offcanvas-menu_area">
                    <nav class="offcanvas-navigation">
                        <ul class="mobile-menu">
                            <li>
                                <a th:href="@{index}">
                                    <span class="mm-text">首页</span>
                                </a>
                            </li>
                            <li>
                                <a th:href="@{fullwidth}">
                                    <span class="mm-text">精装案例</span>
                                </a>
                            </li>
                            <li class="menu-item-has-children">
                                <a th:href="@{designer-list}">
                                    <span class="mm-text">设计团队</span>
                                </a>
                            </li>
                            <li class="menu-item-has-children">
                                <a th:href="@{worker-list}">
                                    <span class="mm-text">施工团队</span>
                                </a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">
                                    <span class="mm-text">营销活动
                                        <i class="pe-7s-angle-down"></i>
                                    </span>
                                </a>
                                <ul class="sub-menu">
                                    <li th:each="set : ${setInfo}">
                                        <a th:href="@{discount/}+${set.setId}">
                                            <span class="mm-text" th:text="${set.name}"></span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children">
                                <a th:href="@{bookOnline}">
                                    <span class="mm-text">在线预约</span>
                                </a>
                            </li>
                            <li>
                                <a href="about.html">
                                    <span th:href="@{contact}">联系我们</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <div class="offcanvas-minicart_wrapper" id="miniCart">
        <div class="offcanvas-body">
            <div class="minicart-content">
                <div class="minicart-heading">
                    <h4 class="mb-0">Shopping Cart</h4>
                    <a href="#" class="button-close"><i class="pe-7s-close" data-tippy="Close"
                                                        data-tippy-inertia="true" data-tippy-animation="shift-away"
                                                        data-tippy-delay="50" data-tippy-arrow="true"
                                                        data-tippy-theme="sharpborder"></i></a>
                </div>
                <ul class="minicart-list">
                    <li class="minicart-product">
                        <a class="product-item_remove" href="#"><i class="pe-7s-close" data-tippy="Remove"
                                                                   data-tippy-inertia="true"
                                                                   data-tippy-animation="shift-away"
                                                                   data-tippy-delay="50" data-tippy-arrow="true"
                                                                   data-tippy-theme="sharpborder"></i></a>
                        <a href="single-product-variable.html" class="product-item_img">
                            <img class="img-full" src="Path/picture/2-1-70x78.png" alt="Product Image">
                        </a>
                        <div class="product-item_content">
                            <a class="product-item_title" href="single-product-variable.html">American Marigold</a>
                            <span class="product-item_quantity">1 x $23.45</span>
                        </div>
                    </li>
                    <li class="minicart-product">
                        <a class="product-item_remove" href="#"><i class="pe-7s-close" data-tippy="Remove"
                                                                   data-tippy-inertia="true"
                                                                   data-tippy-animation="shift-away"
                                                                   data-tippy-delay="50" data-tippy-arrow="true"
                                                                   data-tippy-theme="sharpborder"></i></a>
                        <a href="single-product-variable.html" class="product-item_img">
                            <img class="img-full" src="Path/picture/2-2-70x78.png" alt="Product Image">
                        </a>
                        <div class="product-item_content">
                            <a class="product-item_title" href="single-product-variable.html">Black Eyed Susan</a>
                            <span class="product-item_quantity">1 x $25.45</span>
                        </div>
                    </li>
                    <li class="minicart-product">
                        <a class="product-item_remove" href="#">
                            <i class="pe-7s-close" data-tippy="Remove" data-tippy-inertia="true"
                               data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true"
                               data-tippy-theme="sharpborder"></i>
                        </a>
                        <a href="single-product-variable.html" class="product-item_img">
                            <img class="img-full" src="Path/picture/2-3-70x78.png" alt="Product Image">
                        </a>
                        <div class="product-item_content">
                            <a class="product-item_title" href="single-product-variable.html">Bleeding Heart</a>
                            <span class="product-item_quantity">1 x $30.45</span>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="minicart-item_total">
                <span>Subtotal</span>
                <span class="ammount">$79.35</span>
            </div>
            <div class="group-btn_wrap d-grid gap-2">
                <a href="cart.html" class="btn btn-dark">View Cart</a>
                <a href="checkout.html" class="btn btn-dark">Checkout</a>
            </div>
        </div>
    </div>
    <div class="global-overlay"></div>
</header>
<!-- Main Header Area End Here -->

<!-- Main Wrapper -->
<div class="main-wrapper">

    <!-- Page Wrapper -->
    <div class="page-wrapper">
        <div class="content container-fluid">

            <div class="row">
                <div class="col-lg-12">
                    <div class="card" style="margin: 20px">
                        <div class="card-header">
                            <h4 class="card-title">增加案例</h4>
                        </div>
                        <div class="card-body" style="padding: 20px">
                            <form th:action="@{/saveCase}" method="post" enctype="multipart/form-data" name="bookForm" id="bookForm" onsubmit="sub()">
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">案例主图</label>
                                    <div class="col-md-10 file">
                                        选择文件
                                        <input id="mainPic" name="mainPic" type="file" class="form-control"
                                               placeholder="主图" required>
                                        <div id="image-holder"></div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">标题</label>
                                    <div class="col-md-10">
                                        <input name="title" type="text" class="form-control" placeholder="标题" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">描述</label>
                                    <div class="col-md-10">
                                        <input name="describe" type="text" class="form-control" placeholder="描述">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">风格</label>
                                    <div class="col-md-10">
                                        <select class="form-control" name="styleValue">
                                            <option th:each="style : ${houseStyle}" th:text="${style.name}"
                                                    th:value="${style.id}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">户型</label>
                                    <div class="col-md-10">
                                        <input name="houseType" type="text" class="form-control" placeholder="户型">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">面积</label>
                                    <div class="col-md-10">
                                        <select class="form-control" name="areaValue">
                                            <option th:each="area : ${houseArea}" th:text="${area.name}"
                                                    th:value="${area.id}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">装修类别</label>
                                    <div class="col-md-10">
                                        <select class="form-control" name="formValue">
                                            <option th:each="form : ${houseForm}" th:text="${form.name}"
                                                    th:value="${form.id}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">原始户型图</label>
                                    <div class="col-md-10 file">
                                        选择文件
                                        <input id="original" name="original" type="file" class="form-control"
                                               placeholder="原始户型图" required>
                                        <div id="original-image-holder"></div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">平面图</label>
                                    <div class="col-md-10 file">
                                        选择文件
                                        <input id="plane" name="plane" type="file" class="form-control"
                                               placeholder="平面图" required>
                                        <div id="plane-image-holder"></div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">价格</label>
                                    <div class="col-md-10">
                                        <input name="price" type="text" class="form-control" placeholder="价格">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">类型</label>
                                    <div class="col-md-10">
                                        <select class="form-control" name="typeValue">
                                            <option th:each="type : ${houseType}" th:text="${type.name}"
                                                    th:value="${type.id}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">城市</label>
                                    <div class="col-lg-10">
                                        <div class="row" id="local">
                                            <div class="col-md-2">
                                                <div>
                                                    <select class="form-control" id="province" name="province"
                                                            onChange="changeProvince(this)">
                                                        <option>请选择省份</option>
                                                        <option th:each="province : ${provinces}"
                                                                th:text="${province.district_name}"
                                                                th:value="${province.id}"></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <div>
                                                    <select class="form-control" id="city" name="city">
                                                        <option>请选择城市</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-8">
                                                <input type="text" class="form-control" placeholder="请输入详细地址"
                                                       name="location">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">设计师</label>
                                    <div class="col-md-10">
                                        <select class="form-control" th:placeholder="请选择设计师" name="designer">
                                            <option th:value="0">请选择设计师</option>
                                            <option th:each="designer : ${designers}" th:text="${designer.name}"
                                                    th:value="${designer.id}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">施工人员</label>
                                    <div class="col-lg-10">
                                        <div class="row" id="worker">
                                            <div class="col-md-5">
                                                <div>
                                                    <select class="form-control" id="type1" name="type1"
                                                            onChange="redirec(this)">
                                                        <option>请选择工种</option>
                                                        <option th:each="type : ${workerTypes}" th:text="${type.name}"
                                                                th:value="${type.id}"></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div>
                                                    <select class="form-control" id="worker1" name="worker">
                                                        <option th:value="0">请选择施工人员</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-1">
                                                <button type="button"
                                                        class="my-btn btn btn-success glyphicon glyphicon-plus"
                                                        onclick="addWorker()"></button>
                                            </div>
                                            <input id="workerIds" name="workerIds" class="hidden">
                                        </div>
                                    </div>
                                </div>
                                <div id="house_rooms">
                                    <div class="form-group row" id="house_room0">
                                        <div id="room1">
                                            <label class="col-form-label col-md-2 form-label">房间</label>
                                            <div class="col-lg-10">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <input type="text" class="form-control" placeholder="房间类别"
                                                               name="room1_type">
                                                    </div>
                                                    <div class="col-md-3">
                                                        <input type="text" class="form-control" placeholder="具体类别"
                                                               name="room1_specificType">
                                                    </div>
                                                    <div class="col-md-2">
                                                        <input type="text" class="form-control" placeholder="房间风格"
                                                               name="room1_style">
                                                    </div>
                                                    <div class="col-md-2">
                                                        <input type="text" class="form-control" placeholder="房间价格"
                                                               name="room1_price">
                                                    </div>
                                                    <div class="col-md-1">
                                                        <button type="button"
                                                                class="my-btn btn btn-success glyphicon glyphicon-plus"
                                                                onclick="addRoom()">添加房间
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="room1_pic1_div" class="row">
                                                <label class="col-form-label col-md-3 form-label"></label>
                                                <div class="col-md-3 file">
                                                    选择文件
                                                    <input id="room1_pic1" type="file" class="form-control"
                                                           name="room1_pic1"
                                                           data-room="1" data-pic="1"
                                                           onchange="changePic(this)"
                                                           placeholder="房间照片" required>
                                                    <div id="room1_pic1_imageHolder"></div>
                                                </div>
                                                <div class="col-md-3">
                                                    <input id="room1_pic1_describe" name="room1_pic1_describe" type="text" class="form-control"
                                                           placeholder="描述">
                                                </div>
                                                <div class="col-md-2">
                                                    <button type="button" style="margin: 0"
                                                            id="room1_pic1_btn"
                                                            data-room="1"
                                                            data-pic="1"
                                                            class="my-btn btn btn-success glyphicon glyphicon-plus"
                                                            onclick="addRoomPic(this)">添加房间照片
                                                    </button>
                                                </div>
                                                <input name="roomNum" id="roomNum" class="hidden">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">时间</label>
                                    <div class="col-lg-10">
                                        <div class="row">
                                            <div class="form-control-wrapper col-md-10">
                                                <input id="flatpickr-tryme" class="form-control" type="text" name="time"
                                                       placeholder="时间">
                                            </div>
                                        </div>
                                    </div>
                                </div>
<!--                                <div class="form-group row">-->
<!--                                    <label class="col-form-label col-md-2 form-label">备注</label>-->
<!--                                    <div class="col-md-10">-->
<!--                                        <textarea name="describe" rows="5" cols="5" class="form-control"-->
<!--                                                  placeholder="备注"></textarea>-->
<!--                                    </div>-->
<!--                                </div>-->
                                <div class="submit-section proceed-btn text-right">
                                    <button type="submit" class="btn submit-btn" data-toggle="modal"
                                            data-target=".bs-example-modal-lg">保存
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /Main Wrapper -->

</div>
<!-- /Main Wrapper -->

<!-- Begin Footer Area -->
<div class="footer-area" data-bg-image="Path/image/1-1920x465.jpg">
    <div class="footer-top section-space-top-100 pb-60">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="footer-widget-item">
                        <div class="footer-widget-logo">
                            <a href="">
                                <img src="Path/picture/dark.png" alt="Logo">
                            </a>
                        </div>
                        <p class="footer-widget-desc">Lorem ipsum dolor sit amet, consec adipisl elit, sed do
                            eiusmod
                            tempor
                            <br>
                            incidio ut labore et dolore magna.
                        </p>
                        <div class="social-link with-border">
                            <ul>
                                <li>
                                    <a href="#" data-tippy="Facebook" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-facebook"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" data-tippy="Twitter" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-twitter"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" data-tippy="Pinterest" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-pinterest"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" data-tippy="Dribbble" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-dribbble"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 pt-40">
                    <div class="footer-widget-item">
                        <h3 class="footer-widget-title">Useful Links</h3>
                        <ul class="footer-widget-list-item">
                            <li>
                                <a href="#">About Pronia</a>
                            </li>
                            <li>
                                <a href="#">How to shop</a>
                            </li>
                            <li>
                                <a href="#">FAQ</a>
                            </li>
                            <li>
                                <a href="#">Contact us</a>
                            </li>
                            <li>
                                <a href="#">Log in</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 pt-40">
                    <div class="footer-widget-item">
                        <h3 class="footer-widget-title">My Account</h3>
                        <ul class="footer-widget-list-item">
                            <li>
                                <a href="#">Sign In</a>
                            </li>
                            <li>
                                <a href="#">View Cart</a>
                            </li>
                            <li>
                                <a href="#">My Wishlist</a>
                            </li>
                            <li>
                                <a href="#">Track My Order</a>
                            </li>
                            <li>
                                <a href="#">Help</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 pt-40">
                    <div class="footer-widget-item">
                        <h3 class="footer-widget-title">Our Service</h3>
                        <ul class="footer-widget-list-item">
                            <li>
                                <a href="#">Payment Methods</a>
                            </li>
                            <li>
                                <a href="#">Money Guarantee!</a>
                            </li>
                            <li>
                                <a href="#">Returns</a>
                            </li>
                            <li>
                                <a href="#">Shipping</a>
                            </li>
                            <li>
                                <a href="#">Privacy Policy</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 pt-40">
                    <div class="footer-contact-info">
                        <h3 class="footer-widget-title">Got Question? Call Us</h3>
                        <a class="number" href="tel://123-456-789">123 456 789</a>
                        <div class="address">
                            <ul>
                                <li>
                                    Your Address Goes Here
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="payment-method">
                        <a href="#">
                            <img src="Path/picture/1.png" alt="Payment Method">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="copyright">
                            <span class="copyright-text">© 2021 Pronia Made with <i
                                    class="fa fa-heart text-danger"></i> by
                        <a href="javascript:;" rel="noopener" target="_blank">HasThemes</a> </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Footer Area End Here -->

<!-- Begin Modal Area -->
<div class="modal quick-view-modal fade" id="quickModal" data-bs-backdrop="static" data-bs-keyboard="false"
     tabindex="-1" aria-labelledby="quickModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        data-tippy="Close" data-tippy-inertia="true" data-tippy-animation="shift-away"
                        data-tippy-delay="50" data-tippy-arrow="true" data-tippy-theme="sharpborder">
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-wrap row">
                    <div class="col-lg-6">
                        <div class="modal-img">
                            <div class="swiper-container modal-slider">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <a href="#" class="single-img">
                                            <img class="img-full" src="Path/picture/1-1-570x633.jpg"
                                                 alt="Product Image">
                                        </a>
                                    </div>
                                    <div class="swiper-slide">
                                        <a href="#" class="single-img">
                                            <img class="img-full" src="Path/picture/1-2-570x633.jpg"
                                                 alt="Product Image">
                                        </a>
                                    </div>
                                    <div class="swiper-slide">
                                        <a href="#" class="single-img">
                                            <img class="img-full" src="Path/picture/1-3-570x633.jpg"
                                                 alt="Product Image">
                                        </a>
                                    </div>
                                    <div class="swiper-slide">
                                        <a href="#" class="single-img">
                                            <img class="img-full" src="Path/picture/1-4-570x633.jpg"
                                                 alt="Product Image">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 pt-5 pt-lg-0">
                        <div class="single-product-content">
                            <h2 class="title">American Marigold</h2>
                            <div class="price-box">
                                <span class="new-price">$23.45</span>
                            </div>
                            <div class="rating-box-wrap">
                                <div class="rating-box">
                                    <ul>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                </div>
                                <div class="review-status">
                                    <a href="#">( 1 Review )</a>
                                </div>
                            </div>
                            <div class="selector-wrap color-option">
                                <span class="selector-title border-bottom-0">Color</span>
                                <select class="nice-select wide border-bottom-0 rounded-0">
                                    <option value="default">Black & White</option>
                                    <option value="blue">Blue</option>
                                    <option value="green">Green</option>
                                    <option value="red">Red</option>
                                </select>
                            </div>
                            <div class="selector-wrap size-option">
                                <span class="selector-title">Size</span>
                                <select class="nice-select wide rounded-0">
                                    <option value="medium">Medium Size & Poot</option>
                                    <option value="large">Large Size With Poot</option>
                                    <option value="small">Small Size With Poot</option>
                                </select>
                            </div>
                            <p class="short-desc">Lorem ipsum dolor sit amet, consectetur adipisic elit, sed do
                                eiusmod
                                tempo incid ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostru
                                exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
                                irure
                                dolor
                                in reprehenderit in voluptate</p>
                            <ul class="quantity-with-btn">
                                <li class="quantity">
                                    <div class="cart-plus-minus">
                                        <input class="cart-plus-minus-box" value="1" type="text">
                                    </div>
                                </li>
                                <li class="add-to-cart">
                                    <a class="btn btn-custom-size lg-size btn-pronia-primary" href="cart.html">Add
                                        to
                                        cart</a>
                                </li>
                                <li class="wishlist-btn-wrap">
                                    <a class="custom-circle-btn" href="wishlist.html">
                                        <i class="pe-7s-like"></i>
                                    </a>
                                </li>
                                <li class="compare-btn-wrap">
                                    <a class="custom-circle-btn" href="compare.html">
                                        <i class="pe-7s-refresh-2"></i>
                                    </a>
                                </li>
                            </ul>
                            <ul class="service-item-wrap pb-0">
                                <li class="service-item">
                                    <div class="service-img">
                                        <img src="Path/picture/car.png" alt="Shipping Icon">
                                    </div>
                                    <div class="service-content">
                                        <span class="title">Free <br> Shipping</span>
                                    </div>
                                </li>
                                <li class="service-item">
                                    <div class="service-img">
                                        <img src="Path/picture/card.png" alt="Shipping Icon">
                                    </div>
                                    <div class="service-content">
                                        <span class="title">Safe <br> Payment</span>
                                    </div>
                                </li>
                                <li class="service-item">
                                    <div class="service-img">
                                        <img src="Path/picture/service.png" alt="Shipping Icon">
                                    </div>
                                    <div class="service-content">
                                        <span class="title">Safe <br> Payment</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal Area End Here -->

<!-- Begin Scroll To Top -->
<a class="scroll-to-top" href="">
    <i class="fa fa-angle-double-up"></i>
</a>
<!-- Scroll To Top End Here -->

<script src="Path/js/plugins.min.js"></script>
<script src="Path/js/jquery-2.1.1.min.js"></script>
<script src="Path/js/main.js"></script> <!-- Resource jQuery -->
<script type="text/javascript" src="Path/js/jquery-1.9.1.min.js"></script>


<script type="text/javascript" src="https://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script type="text/javascript" src="Path/js/material.min.js"></script>
<script type="text/javascript" src="Path/js/moment-with-locales.min.js"></script>
<script type="text/javascript" src="Path/js/bootstrap-material-datetimepicker.js"></script>


<script>
    $(function () {
        $('select').searchableSelect();
    });

    //施工人员级联
    function redirec(now) {
        $.ajax({
            url: "/queryAllWorkers",
            type: "post",
            dataType: "json",
            success: function (data) {
                /*这个方法里是ajax发送请求成功之后执行的代码*/
                var type1 = now;
                var s = now.id;
                s = s.replace("type", "worker");
                var opt = now.options.selectedIndex;

                var text = type1.options[opt].text;
                // var worker1 = document.bookForm.worker1;
                var worker1 = document.getElementById(s);
                var j = 1;
                for (i = 0; i < data.length; i++) {
                    if (encodeURIComponent(data[i].type) == encodeURIComponent(text)) {
                        worker1.options[j++] = new Option(data[i].name, data[i].id);
                    }
                }
                worker1.options[0] = new Option("请选择施工人员");
                if (j == 1) {
                    length = worker1.options.length;
                    for (i = 0; i < length; i++) {
                        worker1.removeChild(worker1.options[0]);
                    }
                    worker1.options[0] = new Option("暂无可选施工人员");
                }
            },
            error: function (msg) {
                alert("ajax连接异常：" + msg);
            }
        });
    };
    var num = 2;
    var last = document.getElementById("type1");

    //添加施工人员
    function addWorker() {
        $.ajax({
            url: "/queryAllTypes",
            type: "post",
            dataType: "json",
            success: function (data) {
                if (num <= 2) {
                    document.getElementById("type1").classList.add("form-group");
                }
                last.classList.add("form-group");
                var workerDiv = document.getElementById("worker");

                /**
                 * 工种选择框
                 * @type {HTMLDivElement}
                 */
                var i = 0;
                var j = 0;
                // var length=worker1.options.length;
                /**
                 * 清空原选择框中选项
                 */
                    // for(var k=0;k<length;k++){
                    //     worker1.removeChild(worker1.options[0]);
                    // }
                var div = document.createElement("div");
                var div1 = document.createElement("div");
                div1.setAttribute("class", "col-md-5");
                var div1_1 = document.createElement("div");
                var selectType = document.createElement("select");
                selectType.setAttribute("class", "form-control");
                selectType.setAttribute("name", "type");
                selectType.setAttribute("id", "type" + num);
                selectType.setAttribute("onChange", "redirec(this)");
                selectType.options[i++] = new Option("请选择工种");
                for (var k = 0; k < data.length; k++) {
                    selectType.options[i++] = new Option(data[k].name, data[k].id);
                }
                div1_1.appendChild(selectType);
                div1.appendChild(div1_1);
                div.appendChild(div1);

                /**
                 * 人员选择框
                 */
                var div2 = document.createElement("div");
                div2.setAttribute("class", "col-md-6");
                var div2_1 = document.createElement("div");
                var selectWorker = document.createElement("select");
                selectWorker.setAttribute("class", "form-control");
                selectWorker.setAttribute("name", "worker");
                selectWorker.setAttribute("id", "worker" + num);
                selectWorker.options[0] = new Option("请选择施工人员");
                div2_1.appendChild(selectWorker);
                div2.appendChild(div2_1);
                div.appendChild(div2);

                /**
                 * 删除按钮
                 */
                var div3 = document.createElement("div");
                div3.setAttribute("class", "col-md-1");
                var btn = document.createElement("button");
                btn.setAttribute("type", "button");
                btn.setAttribute("class", "my-btn btn btn btn-success glyphicon glyphicon-minus");
                btn.setAttribute("onclick", "deleteWorker(this)");
                div3.appendChild(btn);
                div.appendChild(div3);

                workerDiv.appendChild(div);

                /**
                 * 改变样式，增加行间距
                 * @type {string}
                 */
                var str = "type" + (num - 1);
                last = selectType;
                // var last = document.getElementById("type1");
                num++;
            },
            error: function (msg) {
                alert("ajax连接异常：" + msg);
            }
        });
    };

    //删除施工人员
    function deleteWorker(now) {
        now.parentNode.parentNode.remove();
        num--;
        if (num <= 2) {
            document.getElementById("type1").classList.remove("form-group");
        }
    };

    //城市级联
    function changeProvince(now) {
        $.ajax({
            url: "/queryCity/" + now.options[now.options.selectedIndex].value,
            type: "post",
            dataType: "json",
            success: function (data) {
                /*这个方法里是ajax发送请求成功之后执行的代码*/
                var province = now;
                var city = document.getElementById("city");
                var opt = now.options.selectedIndex;
                var j = 0;
                var length = city.options.length;
                /**
                 * 清空原选择框中选项
                 */
                for (i = 0; i < length; i++) {
                    city.removeChild(city.options[0]);
                }
                /**
                 * 添加新选项
                 */
                for (i = 0; i < data.length; i++) {
                    // console.log(data[i].district_name);
                    city.options[j++] = new Option(data[i].district_name, data[i].id);
                }
            },
            error: function (msg) {
                alert("ajax连接异常：" + msg);
            }
        });
    };

    $("#mainPic").on('change', function () {
        if (typeof (FileReader) != "undefined") {
            var image_holder = $("#image-holder");
            image_holder.empty();
            var reader = new FileReader();
            reader.onload = function (e) {
                $("<img />", {
                    "src": e.target.result,
                    "class": "thumb-image"
                }).appendTo(image_holder);
            }
            image_holder.show();
            reader.readAsDataURL($(this)[0].files[0]);
        } else {
            alert("你的浏览器不支持FileReader.");
        }
    });

    $("#original").on('change', function () {
        if (typeof (FileReader) != "undefined") {
            var image_holder = $("#original-image-holder");
            image_holder.empty();
            var reader = new FileReader();
            reader.onload = function (e) {
                $("<img />", {
                    "src": e.target.result,
                    "class": "thumb-image"
                }).appendTo(image_holder);
            }
            image_holder.show();
            reader.readAsDataURL($(this)[0].files[0]);
        } else {
            alert("你的浏览器不支持FileReader.");
        }
    });

    $("#plane").on('change', function () {
        if (typeof (FileReader) != "undefined") {
            var image_holder = $("#plane-image-holder");
            image_holder.empty();
            var reader = new FileReader();
            reader.onload = function (e) {
                $("<img />", {
                    "src": e.target.result,
                    "class": "thumb-image"
                }).appendTo(image_holder);
            }
            image_holder.show();
            console.log($(this));
            reader.readAsDataURL($(this)[0].files[0]);
        } else {
            alert("你的浏览器不支持FileReader.");
        }
    });

    var room = 1;//用于表示当前房间个数
    var roomPic = new Array();//用于存放room[i]中的照片个数，从下标1开始，即当只有一个房间时显示为1
    roomPic[1] = 1;
    var house_rooms = document.getElementById("house_rooms");

    //添加房间
    function addRoom(){
        room++;
        roomPic[room] = 1;//初始化数组
        //房间i
        var house_roomi = document.createElement("div");
        house_roomi.setAttribute("class","form_group row");
        house_roomi.setAttribute("id","house_room"+room);

        var roomi = document.createElement("div");
        roomi.setAttribute("id","room"+room);

        var label = document.createElement("label");
        label.setAttribute("class","col-form-label col-md-2 form-label");
        label.appendChild(document.createTextNode("房间"));

        //第一列
        var div0 = document.createElement("div");
        div0.setAttribute("class","col-lg-10");
        var div0_1 = document.createElement("div");
        div0_1.setAttribute("class","row");

        var div0_1_type = document.createElement("div");
        div0_1_type.setAttribute("class","col-md-3");

        //房间类别
        var div0_1_type_input = document.createElement("input");
        div0_1_type_input.setAttribute("type","text");
        div0_1_type_input.setAttribute("class","form-control");
        div0_1_type_input.setAttribute("placeholder","房间类别");
        div0_1_type_input.setAttribute("name","room"+room+"_type");

        div0_1_type.appendChild(div0_1_type_input);
        div0_1.appendChild(div0_1_type);
        //房间类别

        //具体类别
        var div0_1_specificType = document.createElement("div");
        div0_1_specificType.setAttribute("class","col-md-3");

        var div0_1_specificType_input = document.createElement("input");
        div0_1_specificType_input.setAttribute("type","text");
        div0_1_specificType_input.setAttribute("class","form-control");
        div0_1_specificType_input.setAttribute("placeholder","具体类别");
        div0_1_specificType_input.setAttribute("name","room"+room+"_specificType");

        div0_1_specificType.appendChild(div0_1_specificType_input);
        div0_1.appendChild(div0_1_specificType);
        //具体类别

        //房间风格
        var div0_1_style = document.createElement("div");
        div0_1_style.setAttribute("class","col-md-2");

        var div0_1_style_input = document.createElement("input");
        div0_1_style_input.setAttribute("type","text");
        div0_1_style_input.setAttribute("class","form-control");
        div0_1_style_input.setAttribute("placeholder","房间风格");
        div0_1_style_input.setAttribute("name","room"+room+"_style");

        div0_1_style.appendChild(div0_1_style_input);
        div0_1.appendChild(div0_1_style);
        //房间风格

        //房间价格
        var div0_1_price = document.createElement("div");
        div0_1_price.setAttribute("class","col-md-2");

        var div0_1_price_input = document.createElement("input");
        div0_1_price_input.setAttribute("type","text");
        div0_1_price_input.setAttribute("class","form-control");
        div0_1_price_input.setAttribute("placeholder","房间价格");
        div0_1_price_input.setAttribute("name","room"+room+"_price");

        div0_1_price.appendChild(div0_1_price_input);
        div0_1.appendChild(div0_1_price);
        //房间价格

        //添加房间块
        var div0_1_addRoom = document.createElement("div");
        div0_1_addRoom.setAttribute("class","col-md-1");

        //添加房间按钮
        var div0_1_addRoom_btn = document.createElement("button");
        div0_1_addRoom_btn.setAttribute("class","my-btn btn btn-success glyphicon glyphicon-plus");
        div0_1_addRoom_btn.setAttribute("onclick","addRoom()");
        div0_1_addRoom_btn.appendChild(document.createTextNode("添加房间"));
        //添加房间按钮

        div0_1_addRoom.appendChild(div0_1_addRoom_btn);
        div0_1.appendChild(div0_1_addRoom);
        //添加房间块

        div0.appendChild(div0_1);
        //第一列

        //第二列，房间照片
        var roomi_pici_div = document.createElement("div");
        roomi_pici_div.setAttribute("class","row");
        roomi_pici_div.setAttribute("id","room"+room+"_pic"+roomPic[room]+"_div");

        var roomi_pici_label = document.createElement("label");
        roomi_pici_label.setAttribute("class","col-form-label col-md-3 form-label");

        roomi_pici_div.appendChild(roomi_pici_label);

        var roomi_pici_div_div1 = document.createElement("div");
        roomi_pici_div_div1.setAttribute("class","col-md-3 file");
        roomi_pici_div_div1.appendChild(document.createTextNode("选择文件"));

        //房间图片input框
        var roomi_pici_div_div1_input = document.createElement("input");
        roomi_pici_div_div1_input.setAttribute("type","file");
        roomi_pici_div_div1_input.setAttribute("class","form-control");
        roomi_pici_div_div1_input.setAttribute("placeholder","房间照片")
        roomi_pici_div_div1_input.setAttribute("id","room"+room+"_pic"+roomPic[room]);
        roomi_pici_div_div1_input.setAttribute("name","room"+room+"_pic"+roomPic[room]);
        roomi_pici_div_div1_input.setAttribute("data-room",room);
        roomi_pici_div_div1_input.setAttribute("data-pic",roomPic[room]);
        roomi_pici_div_div1_input.setAttribute("onChange","changePic(this)");

        roomi_pici_div_div1.appendChild(roomi_pici_div_div1_input);
        //房间图片input框

        //房间图片显示区
        var roomi_pici_div_div1_imageHolder = document.createElement("div");
        roomi_pici_div_div1_imageHolder.setAttribute("id","room"+room+"_pic"+roomPic[room]+"_imageHolder");
        //id

        roomi_pici_div_div1.appendChild(roomi_pici_div_div1_imageHolder);
        //房间图片显示区
        roomi_pici_div.appendChild(roomi_pici_div_div1);

        //房间照片描述
        var roomi_pici_div_div2 = document.createElement("div");
        roomi_pici_div_div2.setAttribute("class","col-md-3");

        //房间照片描述输入框
        var roomi_pici_div_div2_input = document.createElement("input");
        roomi_pici_div_div2_input.setAttribute("type","text");
        roomi_pici_div_div2_input.setAttribute("class","form-control");
        roomi_pici_div_div2_input.setAttribute("id","room"+room+"_pic"+roomPic[room]+"_describe");
        roomi_pici_div_div2_input.setAttribute("name","room"+room+"_pic"+roomPic[room]+"_describe");
        roomi_pici_div_div2_input.setAttribute("placeholder","描述");
        //房间照片描述输入框

        roomi_pici_div_div2.appendChild(roomi_pici_div_div2_input);
        //房间照片描述

        roomi_pici_div.appendChild(roomi_pici_div_div2);

        //添加房间照片按钮div
        var roomi_pici_div_div3 = document.createElement("div");
        roomi_pici_div_div3.setAttribute("class","col-md-2");

        //添加房间照片按钮
        var roomi_pici_div_div3_btn = document.createElement("button");
        roomi_pici_div_div3_btn.setAttribute("type","button");
        roomi_pici_div_div3_btn.setAttribute("style","margin: 0");
        roomi_pici_div_div3_btn.setAttribute("class","my-btn btn btn-success glyphicon glyphicon-plus");
        roomi_pici_div_div3_btn.setAttribute("onclick","addRoomPic(this)");
        roomi_pici_div_div3_btn.setAttribute("id","room"+room+"_pic"+roomPic[room]+"_btn");
        roomi_pici_div_div3_btn.setAttribute("data-room",room);
        roomi_pici_div_div3_btn.setAttribute("data-pic",roomPic[room]);
        roomi_pici_div_div3_btn.appendChild(document.createTextNode("添加房间照片"));
        //添加房间照片按钮
        roomi_pici_div_div3.appendChild(roomi_pici_div_div3_btn);
        //添加房间照片按钮div

        roomi_pici_div.appendChild(roomi_pici_div_div3);

        roomi.appendChild(label);
        roomi.appendChild(div0);
        roomi.appendChild(roomi_pici_div);
        //第二列，房间照片

        house_roomi.appendChild(roomi);
        house_rooms.appendChild(house_roomi);

    }

    //添加房间照片
    function addRoomPic(now){
        var nowRoom = parseInt(now.getAttribute("data-room"));
        var nowPic = now.getAttribute("data-pic");
        roomPic[nowRoom]++;

        var room0 = now.parentNode.parentNode.parentNode;
        var div = document.createElement("div");
        div.setAttribute("id",room0.id+"_pic"+roomPic[nowRoom]+"_div");
        div.setAttribute("class","row");
        div.setAttribute("style","margin-top: 10px");

        var label = document.createElement("label");
        label.setAttribute("class","col-form-label col-md-3 form-label");

        div.appendChild(label);

        var divFile = document.createElement("div");
        divFile.setAttribute("class","col-md-3 file");
        divFile.appendChild(document.createTextNode("选择文件"));

        var input = document.createElement("input");
        input.setAttribute("type","file");
        input.setAttribute("class","form-control");
        input.setAttribute("id",room0.id+"_pic"+roomPic[nowRoom]);
        input.setAttribute("name",room0.id+"_pic"+roomPic[nowRoom]);
        input.setAttribute("data-room",nowRoom);
        input.setAttribute("data-pic",roomPic[nowRoom]);
        input.setAttribute("onChange","changePic(this)");

        var divImage = document.createElement("div");
        divImage.setAttribute("id",room0.id+"_pic"+roomPic[nowRoom]+"_imageHolder");
        divImage.setAttribute("name",room0.id+"_pic"+roomPic[nowRoom]+"_imageHolder");

        divFile.appendChild(input);
        divFile.appendChild(divImage);

        var divDescribe = document.createElement("div");
        divDescribe.setAttribute("class","col-md-3");

        var inputDescribe = document.createElement("input");
        inputDescribe.setAttribute("name","describe");
        inputDescribe.setAttribute("type","text");
        inputDescribe.setAttribute("class","form-control");
        inputDescribe.setAttribute("id",room0.id+"_pic"+roomPic[nowRoom]+"_describe");
        inputDescribe.setAttribute("name",room0.id+"_pic"+roomPic[nowRoom]+"_describe");
        inputDescribe.setAttribute("placeholder","描述");

        divDescribe.appendChild(inputDescribe);

        div.appendChild(divFile);
        div.appendChild(divDescribe);

        var divBtn = document.createElement("div");
        divBtn.setAttribute("class","col-md-2");
        var btn = document.createElement("button");
        btn.setAttribute("type","button");
        btn.setAttribute("style","margin: 0");
        btn.setAttribute("class","my-btn btn btn-success glyphicon glyphicon-plus");
        btn.setAttribute("onclick","addRoomPic(this)");
        btn.setAttribute("id",room0.id+"_pic"+roomPic[nowRoom]+"_btn");
        btn.setAttribute("data-room",room);
        btn.setAttribute("data-pic",roomPic[nowRoom]);
        btn.appendChild(document.createTextNode("添加房间照片"));
        divBtn.appendChild(btn);
        div.appendChild(divBtn);
        room0.appendChild(div);
    }

    function changePic(now){
        console.log(now.id);
        var nowRoom = parseInt(now.getAttribute("data-room"));
        var nowPic = parseInt(now.getAttribute("data-pic"));
        console.log(nowRoom + "    " + nowPic);
        if (typeof (FileReader) != "undefined") {
            var image_holder = document.getElementById("room"+nowRoom+"_pic"+nowPic+"_imageHolder");
            console.log("room"+nowRoom+"_pic"+nowPic+"_imageHolder");
            console.log(image_holder);
            image_holder.innerHTML="";
            var reader = new FileReader();
            reader.onload = function (e) {
                $("<img />", {
                    "src": e.target.result,
                    "class": "thumb-image"
                }).appendTo(image_holder);
            }
            // image_holder.show();
            console.log(now.files[0]);
            reader.readAsDataURL(now.files[0]);
        } else {
            alert("你的浏览器不支持FileReader.");
        }
    }

    /**
     * 提交表单
     **/
    function sub() {
        var wokers = document.getElementById("workerIds");
        var workerDoms = document.getElementsByName("worker");
        var roomNum = document.getElementById("roomNum");
        roomNum.value = room;
        var s = "";
        for (var i = 0; i < workerDoms.length; i++) {
            s += workerDoms[i].value;
            s += ",";
        }
        s = s.substring(0, s.length - 1);
        wokers.value = s;
        $.ajax({
            type: "POST",//方法类型
            dataType: "json",//预期服务器返回的数据类型
            url: "/addBook",//url
            data: $('#bookForm').serialize(),
            success: function (result) {
                console.log(result);//打印服务端返回的数据(调试用)
                if (result == 200) {
                    alert("插入成功");
                }
                ;
            },
            error: function () {
                alert("异常！");
            }
        });
    }
</script>
</body>

<style>
    .main-nav > ul > li > a {
        width: 60px;
    }

    .btn.active.focus, .btn.active:focus, .btn.focus, .btn:active.focus, .btn:active:focus, .btn:focus {
        outline: none;
        box-shadow: none;
    }

    a:hover {
        text-decoration: none
    }

    .submit-section .submit-btn {
        padding: 12px 30px;
        font-weight: 600;
        font-size: 16px;
        min-width: 100px;
        color: white;
        background-color: #09e5ab;
        border: 1px solid #09e5ab;
    }

    .submit-btn:hover {
        background-color: #09dca4;
        border: 1px solid #09e5ab;
    }

    .form-label {
        font-size: 16px;
        font-weight: normal;
    }

    .my-btn {
        color: #fff;
        background-color: #09e5ab;
        border-color: #09e5ab;
        padding: 4px 20px;
    }

    .file {
        position: relative;
        display: inline-block;
        background: #ffffff;
        border: 1px solid #d1eeff;
        border-radius: 4px;
        padding: 4px 12px;
        overflow: hidden;
        color: #1E88C7;
        text-decoration: none;
        text-indent: 0;
    }

    .file input {
        position: absolute;
        font-size: 100px;
        right: 0;
        top: 0;
        opacity: 0;
        -ms-filter: 'alpha(opacity=0)';
    }

    .file:hover {
        background: #AADFFD;
        border-color: #78C3F3;
        color: #004974;
        text-decoration: none;
    }
</style>

</html>
