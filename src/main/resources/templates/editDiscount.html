<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>我爱我家装修公司</title>
    <meta name="robots" content="index, follow">
    <meta name="description"
          content="Pronia plant store bootstrap 5 template is an awesome website template for any home plant shop.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../Path/css/plugins.min.css">
    <link rel="stylesheet" href="../../Path/css/style.min.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../../Path/css/reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" type="text/css" href="../../Path/css/htmleaf-demo.css">
    <link rel="stylesheet" href="../../Path/css/search.css"> <!-- Resource style -->
    <script src="../../Path/js/modernizr.js"></script> <!-- Modernizr -->
    <link rel="icon" href="../../Path/image/newlogo.png">
    <link rel="canonical" href="https://getbootstrap.com/docs/3.4/examples/dashboard/">
    <link href="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/css/ie10-viewport-bug-workaround.css"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
          integrity="sha384-olOxEXxDwd20BlATUibkEnjPN3sVq2YWmYOnsMYutq7X8YcUdD6y/1I+f+ZOq/47" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../../Path/css/dmaku.css"/>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-NU/T4JKmgovMiPaK2GP9Y+TVBQxiaiYFJB6igFtfExinKlzVruIK6XtKqxCGXwCG"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/ie8-responsive-file-warning.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/ie-emulation-modes-warning.js"></script>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.0.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"
            integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
            crossorigin="anonymous"></script>

    <link href="../../Path/css/jquery.searchableSelect.css" rel="stylesheet" type="text/css">
    <script src="../../Path/js/jquery-1.11.1.min.js"></script>
    <script src="../../Path/js/jquery.searchableSelect.js"></script>

    <script>window.jQuery || document.write('<script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/vendor/holder.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@bootcss/v3.bootcss.com@1.0.8/assets/js/ie10-viewport-bug-workaround.js"></script>


    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../Path/css/material.min.css"/>
    <link rel="stylesheet" href="../../Path/css/bootstrap-material-datetimepicker.css"/>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,500' rel='stylesheet' type='text/css'>

    <script async>
        function fp_ready() {
            // setting custom defaults
            Flatpickr.l10n.firstDayOfWeek = 1;

            //Regular flatpickr
            document.getElementById("flatpickr-tryme").flatpickr();

            // Date format
            var fpInstance = new Flatpickr(document.createElement("input")),
                formatOutput = document.getElementById("dateFormatOutput"),
                now = new Date();

        }
    </script>
    <script async src="../../Path/js/flatpickr.js" onload="fp_ready()"></script>


    <!--    <link rel="stylesheet" type="text/css" href="assets/site.css">-->
    <link rel="stylesheet" id=cal_style type="text/css" href="../../Path/css/flatpickr.min.css">

    <!--    <script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>-->
</head>

<body>
<div class="preloader-activate preloader-active open_tm_preloader">
    <div class="preloader-area-wrap">
        <div class="spinner d-flex justify-content-center align-items-center h-100">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
</div>

<!--头部-->
<header class="main-header-area">
    <!--固定顶部-->
    <div class="header-top bg-pronia-primary d-none d-lg-block">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-6">
                    <div class="header-top-left">
                    </div>
                </div>
                <div class="col-6">
                    <div class="header-top-right">
                        <ul class="dropdown-wrap">
                            <li class="dropdown d-none d-lg-block">
                                <button class="btn btn-link dropdown-toggle ht-btn p-0" type="button"
                                        id="settingButton" data-bs-toggle="dropdown" aria-label="setting"
                                        aria-expanded="false" th:text="${#request.getSession().getAttribute('name')}"
                                        th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                </button>
                                <a class="btn btn-link dropdown-toggle ht-btn p-0"
                                   th:href="@{../login}"
                                   th:if="${#strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                    登录
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="settingButton"
                                    th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                    <li><a class="dropdown-item" th:if="${#request.getSession().getAttribute('role') eq 'admin'}" th:href="@{..//admin/index}">管理员界面</a></li>
                                    <li><a class="dropdown-item" th:if="${#request.getSession().getAttribute('role') eq 'designer'}" th:href="@{..//admin/index}">设计师界面</a></li>
                                    <li><a class="dropdown-item" th:href="@{../account}">个人信息</a></li>
                                    <li><a class="dropdown-item" th:href="@{../logout}">退出</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 导航条 -->
    <div class="header-middle py-30">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="header-middle-wrap position-relative cd-main-header">
                        <div class="header-contact d-none d-lg-flex">
                            <i class="pe-7s-call"></i>
                            <a href="tel://+00-123-456-789">+00 123 456 789</a>
                        </div>
                        <a class="header-logo">
                            <img src="../../Path/image/newlogo.png" style="height: 60px; width: 60px" alt="Header Logo">
                        </a>
                        <!--                            搜索框-->
                        <nav class="cd-main-nav-wrapper">
                            <a href="#search" class="cd-search-trigger cd-text-replace">搜索</a>
                        </nav> <!-- .cd-main-nav-wrapper -->
                        <a href="#0" class="cd-nav-trigger cd-text-replace">Menu<span></span></a>
                        <div id="search" class="cd-main-search">
                            <form th:action="@{../searchDesigner}" method="post">
                                <input type="search" name="searchText" placeholder="搜索">
                                <div class="cd-select">
                                    <select name="category">
                                        <option value="designer">设计师</option>
                                        <option value="worker">施工人员</option>
                                    </select>
                                    <span class="selected-value">设计师</span>
                                </div>
                            </form>
                            <a href="#0" class="close cd-text-replace">Close Form</a>
                        </div> <!-- .cd-main-search -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="header-bottom d-none d-lg-block">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-menu position-relative">
                        <nav class="main-nav">
                            <ul>
                                <!--                                    首页-->
                                <li>
                                    <a th:href="@{../index}">&nbsp;&nbsp;&nbsp;&nbsp;首页&nbsp;&nbsp;&nbsp;</a>
                                </li>
                                <!--                                    精装案例-->
                                <li>
                                    <a th:href="@{../fullwidth}">精装案例</a>
                                </li>
                                <!--                                    设计团队-->
                                <li>
                                    <a th:href="@{../designer-list}">设计团队</a>
                                </li>
                                <!--                                    施工团队-->
                                <li>
                                    <a th:href="@{../worker-list}">施工团队</a>
                                </li>
                                <!--                                    营销活动-->
                                <li class="drop-holder">
                                    <a th:href="@{../discount/1}">营销活动</a>
                                    <ul class="drop-menu">
                                        <li><a th:if="${#request.getSession().getAttribute('role') eq 'admin'}" th:href="@{../addDiscount}" style="color: #09e5ab">添加活动</a></li>
                                        <!--                                        <li><a th:href="@{/addDiscount}" style="color: #2196f3">添加活动</a></li>-->
                                        <li th:each="set : ${setInfo}">
                                            <a style="font-size: 15px" th:text="${set.name}" th:href="@{../discount/}+${set.setId}"></a>
                                            <a th:if="${#request.getSession().getAttribute('role') eq 'admin'}"
                                               th:href="@{../editDiscount/}+${set.setId}">编辑</a>
                                            <a th:if="${#request.getSession().getAttribute('role') eq 'admin'}"
                                               th:href="@{../delDiscount/}+${set.setId}">删除</a>
                                        </li>
                                    </ul>
                                </li>
                                <!--                                在线预约-->
                                <li>
                                    <a th:href="@{../bookOnline}">在线预约</a>
                                </li>
                                <!--                                    联系我们-->
                                <li>
                                    <a th:href="@{../contact}">联系我们</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="header-sticky py-4 py-lg-0">
        <div class="container">
            <div class="header-nav position-relative">
                <div class="row align-items-center">
                    <div class="col-lg-3 col-6">

                        <a href="" class="header-logo" style="margin-right: 20px">
                            <img src="../../Path/image/newlogo.png" style="height: 60px; width: 60px" alt="Header Logo">
                        </a>

                    </div>
                    <div class="col-lg-6 d-none d-lg-block">
                        <div class="main-menu">
                            <nav class="main-nav">
                                <ul>
                                    <li>
                                        <a th:href="@{../index}">&nbsp;&nbsp;&nbsp;&nbsp;首页&nbsp;&nbsp;&nbsp;</a>
                                    </li>
                                    <!--                                    精装案例-->
                                    <li>
                                        <a th:href="@{../fullwidth}">精装案例</a>
                                    </li>
                                    <!--                                    设计团队-->
                                    <li>
                                        <a th:href="@{../designer-list}">设计团队</a>
                                    </li>
                                    <!--                                    施工团队-->
                                    <li>
                                        <a th:href="@{../worker-list}">施工团队</a>
                                    </li>
                                    <!--                                    营销活动-->
                                    <li class="drop-holder">
                                        <a th:href="@{../discount/1}">营销活动</a>
                                        <ul class="drop-menu">
                                            <li th:each="set : ${setInfo}">
                                                <a style="font-size: 15px" th:text="${set.name}"
                                                   th:href="@{../discount/}+${set.setId}"></a>
                                            </li>
                                        </ul>
                                    </li>
                                    <!--                                    在线预约-->
                                    <li>
                                        <a th:href="@{../bookOnline}">在线预约</a>
                                    </li>
                                    <!--                                    联系我们-->
                                    <li>
                                        <a th:href="@{../contact}">联系我们</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-lg-3 col-6">
                        <div class="header-right">
                            <ul>
                                <li class="dropdown d-none d-lg-block">
                                    <button class="btn btn-link dropdown-toggle ht-btn p-0" type="button"
                                            id="stickysettingButton" data-bs-toggle="dropdown" aria-label="setting"
                                            aria-expanded="false"
                                            th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <i class="pe-7s-users"></i>
                                    </button>
                                    <button class="btn btn-link dropdown-toggle ht-btn p-0" type="button"
                                            data-bs-toggle="dropdown" aria-label="setting"
                                            aria-expanded="false"
                                            th:if="${#strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <i class="pe-7s-users"></i>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="settingButton"
                                        th:if="${not #strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <li><a class="dropdown-item" th:href="@{../account}">个人信息</a></li>
                                        <li><a class="dropdown-item" th:href="@{../logout}">退出</a></li>
                                    </ul>
                                    <ul class="dropdown-menu" aria-labelledby="settingButton"
                                        th:if="${#strings.isEmpty(#request.getSession().getAttribute('name'))}">
                                        <li><a class="dropdown-item" th:href="@{../login}">登录</a></li>
                                    </ul>
                                </li>
                                <li class="mobile-menu_wrap d-block d-lg-none">
                                    <a href="#mobileMenu" class="mobile-menu_btn toolbar-btn pl-0">
                                        <i class="pe-7s-menu"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mobile-menu_wrapper" id="mobileMenu">
        <div class="offcanvas-body">
            <div class="inner-body">
                <div class="offcanvas-top">
                    <a href="#" class="button-close"><i class="pe-7s-close"></i></a>
                </div>
                <div class="header-contact offcanvas-contact">
                    <i class="pe-7s-call"></i>
                    <a href="tel://+00-123-456-789">+00 123 456 789</a>
                </div>
                <div class="offcanvas-user-info">
                    <ul class="dropdown-wrap">
                        <li class="dropdown dropdown-left">
                            <button class="btn btn-link dropdown-toggle ht-btn usd-dropdown" type="button"
                                    id="settingButtonTwo" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="pe-7s-users"></i>
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="settingButtonTwo">
                                <li><a class="dropdown-item" th:href="@{../account}">My account</a></li>
                                <li><a class="dropdown-item" th:href="login-register">Login | Register</a></li>
                            </ul>
                        </li>
                        <li>
                            <a>
                                <i class="pe-7s-like"></i>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="offcanvas-menu_area">
                    <nav class="offcanvas-navigation">
                        <ul class="mobile-menu">
                            <li>
                                <a th:href="@{../index}">
                                    <span class="mm-text">首页</span>
                                </a>
                            </li>
                            <li>
                                <a th:href="@{../fullwidth}">
                                    <span class="mm-text">精装案例</span>
                                </a>
                            </li>
                            <li class="menu-item-has-children">
                                <a th:href="@{../designer-list}">
                                    <span class="mm-text">设计团队</span>
                                </a>
                            </li>
                            <li class="menu-item-has-children">
                                <a th:href="@{../worker-list}">
                                    <span class="mm-text">施工团队</span>
                                </a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">
                                    <span class="mm-text">营销活动
                                        <i class="pe-7s-angle-down"></i>
                                    </span>
                                </a>
                                <ul class="sub-menu">
                                    <li th:each="set : ${setInfo}">
                                        <a th:href="@{../discount/}+${set.setId}">
                                            <span class="mm-text" th:text="${set.name}"></span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="menu-item-has-children">
                                <a th:href="@{../bookOnline}">
                                    <span class="mm-text">在线预约</span>
                                </a>
                            </li>
                            <li>
                                <a href="about.html">
                                    <span th:href="@{../contact}">联系我们</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <div class="offcanvas-minicart_wrapper" id="miniCart">
        <div class="offcanvas-body">
            <div class="minicart-content">
                <div class="minicart-heading">
                    <h4 class="mb-0">Shopping Cart</h4>
                    <a href="#" class="button-close"><i class="pe-7s-close" data-tippy="Close"
                                                        data-tippy-inertia="true" data-tippy-animation="shift-away"
                                                        data-tippy-delay="50" data-tippy-arrow="true"
                                                        data-tippy-theme="sharpborder"></i></a>
                </div>
                <ul class="minicart-list">
                    <li class="minicart-product">
                        <a class="product-item_remove" href="#"><i class="pe-7s-close" data-tippy="Remove"
                                                                   data-tippy-inertia="true"
                                                                   data-tippy-animation="shift-away"
                                                                   data-tippy-delay="50" data-tippy-arrow="true"
                                                                   data-tippy-theme="sharpborder"></i></a>
                        <a href="single-product-variable.html" class="product-item_img">
                            <img class="img-full" src="../../Path/picture/2-1-70x78.png" alt="Product Image">
                        </a>
                        <div class="product-item_content">
                            <a class="product-item_title" href="single-product-variable.html">American Marigold</a>
                            <span class="product-item_quantity">1 x $23.45</span>
                        </div>
                    </li>
                    <li class="minicart-product">
                        <a class="product-item_remove" href="#"><i class="pe-7s-close" data-tippy="Remove"
                                                                   data-tippy-inertia="true"
                                                                   data-tippy-animation="shift-away"
                                                                   data-tippy-delay="50" data-tippy-arrow="true"
                                                                   data-tippy-theme="sharpborder"></i></a>
                        <a href="single-product-variable.html" class="product-item_img">
                            <img class="img-full" src="../../Path/picture/2-2-70x78.png" alt="Product Image">
                        </a>
                        <div class="product-item_content">
                            <a class="product-item_title" href="single-product-variable.html">Black Eyed Susan</a>
                            <span class="product-item_quantity">1 x $25.45</span>
                        </div>
                    </li>
                    <li class="minicart-product">
                        <a class="product-item_remove" href="#">
                            <i class="pe-7s-close" data-tippy="Remove" data-tippy-inertia="true"
                               data-tippy-animation="shift-away" data-tippy-delay="50" data-tippy-arrow="true"
                               data-tippy-theme="sharpborder"></i>
                        </a>
                        <a href="single-product-variable.html" class="product-item_img">
                            <img class="img-full" src="../../Path/picture/2-3-70x78.png" alt="Product Image">
                        </a>
                        <div class="product-item_content">
                            <a class="product-item_title" href="single-product-variable.html">Bleeding Heart</a>
                            <span class="product-item_quantity">1 x $30.45</span>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="minicart-item_total">
                <span>Subtotal</span>
                <span class="ammount">$79.35</span>
            </div>
            <div class="group-btn_wrap d-grid gap-2">
                <a href="cart.html" class="btn btn-dark">View Cart</a>
                <a href="checkout.html" class="btn btn-dark">Checkout</a>
            </div>
        </div>
    </div>
    <div class="global-overlay"></div>
</header>
<!-- Main Header Area End Here -->

<!-- Main Wrapper -->
<div class="main-wrapper">

    <!-- Page Wrapper -->
    <div class="page-wrapper">
        <div class="content container-fluid">

            <div class="row">
                <div class="col-lg-12">
                    <div class="card" style="margin: 20px">
                        <div class="card-header">
                            <h4 class="card-title">添加套餐</h4>
                        </div>
                        <div class="card-body" style="padding: 20px">
                            <form th:action="@{../editDiscount}" method="post" enctype="multipart/form-data">
                                <input name="setId" th:value="${set.setId}" type="hidden">
                                <h3>套餐详情</h3>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">标题</label>
                                    <div class="col-md-10">
                                        <input name="name" th:value="${set.name}" type="text" class="form-control"
                                               placeholder="标题" required>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">折扣内容</label>
                                    <div class="col-md-10">
                                        <input name="discount" th:value="${set.discount}" type="text"
                                               class="form-control" placeholder="折扣内容">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">具体描述</label>
                                    <div class="col-md-10">
                                        <input name="des" th:value="${set.des}" type="text" class="form-control"
                                               placeholder="具体描述">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">活动时间</label>
                                    <div class="col-md-10">
                                        <input name="time" th:value="${set.time}" type="text" class="form-control"
                                               placeholder="活动时间">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-md-2 form-label">活动主图</label>
                                    <div class="col-md-10 file">
                                        选择文件
                                        <input id="pic" name="pic" type="file" class="form-control"
                                               th:value="${set.pic}"
                                               placeholder="活动主图">
                                        <div id="pic-image-holder">
                                            <img th:src="${set.pic}" style="width: 300px">
                                        </div>
                                    </div>
                                </div>
                                <div id="contentDiv1" th:if="${contentNum} ge 0">
                                    <div th:each="content,contentStatus : ${contentInfo}">
                                        <h3 th:text="'配置'+(${contentStatus.index}+1)"></h3>
                                        <div th:id="'content'+(${contentStatus.index}+1)" class="row">
                                            <input th:name="'content'+(${contentStatus.index}+1)+'_id'" th:value="${content.contentId}" type="hidden">
                                            <label class="col-form-label col-md-2 form-label">房间</label>
                                            <div class="col-md-4">
                                                <input th:id="'content'+(${contentStatus.index}+1)+'_name'"
                                                       th:name="'content'+(${contentStatus.index}+1)+'_name'"
                                                       th:value="${content.name}"
                                                       type="text" class="form-control"
                                                       placeholder="名称">
                                            </div>
                                            <div class="col-md-4 file">
                                                选择文件
                                                <input th:id="'content'+(${contentStatus.index}+1)+'_pic'"
                                                       th:name="'content'+(${contentStatus.index}+1)+'_pic'"
                                                       type="file" class="form-control"
                                                       th:attr="data-content=${contentStatus.index}+1"
                                                       onchange="changePic(this)"
                                                       placeholder="图片">
                                                <div th:id="'content'+(${contentStatus.index}+1)+'_imageHolder'">
                                                    <img th:src="${content.pic}">
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <button th:id="'content'+(${contentStatus.index}+1)+'_btn'"
                                                        type="button"
                                                        th:attr="data-room=${contentStatus.index}+1,data-pic=${contentStatus.index}+1"
                                                        style="margin: 0"
                                                        class="my-btn btn btn-success glyphicon glyphicon-plus"
                                                        onclick="addContent()">添加房间
                                                </button>
                                            </div>
                                            <div class="form-group row">
                                                <div th:id="'content'+(${contentStatus.index}+1)+'_configDiv'">
                                                    <div class="col-lg-10"
                                                         th:each="config,configStatus : ${content.setConfigs}"
                                                         th:id="'content'+(${contentStatus.index}+1)+'_config'+(${configStatus.index}+1)">
                                                        <div class="col-md-1">
                                                        </div>
                                                        <label class="col-form-label col-md-2 form-label">内容</label>
                                                        <input th:name="'content'+(${contentStatus.index}+1)+'_config'+(${configStatus.index}+1)+'_id'"
                                                               th:value="${config.configId}" type="hidden">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <input type="text" class="form-control" placeholder="内容"
                                                                       th:value="${config.category}"
                                                                       th:name="'content'+(${contentStatus.index}+1)+'_config'+(${configStatus.index}+1)+'_category'">
                                                            </div>
                                                            <div class="col-md-5">
                                                                <input type="text" class="form-control" placeholder="品牌"
                                                                       th:value="${config.brand}"
                                                                       th:name="'content'+(${contentStatus.index}+1)+'_config'+(${configStatus.index}+1)+'_brand'">
                                                            </div>
                                                            <div class="col-md-1">
                                                                <button type="button"
                                                                        th:name="'content'+(${contentStatus.index}+1)+'_config'+(${configStatus.index}+1)+'_btn'"
                                                                        class="my-btn btn btn-success glyphicon glyphicon-plus"
                                                                        th:attr="data-div='content'+(${contentStatus.index}+1)+'_configDiv',data-content=${contentStatus.index}+1,data-config=${configStatus.index}+1"
                                                                        onclick="addConfig(this)">添加配置
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input id="contentNum" th:value="${contentNum}" name="contentNum" type="hidden">
                                <input id="contentArrays" name="contentArrays" type="hidden">
                                <div id="contentDiv2" th:if="${contentNum} eq 0">
                                    <h3>配置1</h3>
                                    <div id="content1" class="row">
                                        <label class="col-form-label col-md-2 form-label">房间1</label>
                                        <div class="col-md-4">
                                            <input id="content1_name" name="content1_name" type="text" class="form-control"
                                                   placeholder="名称">
                                        </div>
                                        <div class="col-md-4 file">
                                            选择文件
                                            <input id="content1_pic" type="file" class="form-control"
                                                   name="content1_pic"
                                                   data-content="1"
                                                   onchange="changePic(this)"
                                                   placeholder="图片" required>
                                            <div id="content1_imageHolder"></div>
                                        </div>
                                        <div class="col-md-2">
                                            <button type="button"
                                                    id="content1_btn"
                                                    data-room="1"
                                                    data-pic="1"
                                                    style="margin: 0"
                                                    class="my-btn btn btn-success glyphicon glyphicon-plus"
                                                    onclick="addContent(this)">添加房间
                                            </button>
                                        </div>
                                        <div class="form-group row" id="content1_confige1">
                                            <div id="content1_configDiv">
                                                <div class="col-lg-10" style="margin-top:10px">
                                                    <div class="col-md-1">
                                                    </div>
                                                    <label class="col-form-label col-md-2 form-label">内容</label>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <input type="text" class="form-control" placeholder="内容"
                                                                   name="content1_config1_category">
                                                        </div>
                                                        <div class="col-md-5">
                                                            <input type="text" class="form-control" placeholder="品牌"
                                                                   name="content1_config1_brand">
                                                        </div>
                                                        <div class="col-md-1">
                                                            <button type="button"
                                                                    name="content1_config1_btn"
                                                                    class="my-btn btn btn-success glyphicon glyphicon-plus"
                                                                    data-div="content1_configDiv"
                                                                    data-content="1"
                                                                    data-config="1"
                                                                    onclick="addConfig(this)">添加配置
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="submit-section proceed-btn text-right">
                                    <button type="submit" class="btn submit-btn" data-toggle="modal"
                                            data-target=".bs-example-modal-lg" onclick="sub()">保存
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /Main Wrapper -->

</div>
<!-- /Main Wrapper -->

<!-- Begin Footer Area -->
<div class="footer-area" data-bg-image="../../Path/image/1-1920x465.jpg">
    <div class="footer-top section-space-top-100 pb-60">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="footer-widget-item">
                        <div class="footer-widget-logo">
                            <a href="">
                                <img src="../../Path/image/newlogo.png" style="height: 60px; width: 60px" alt="Logo">
                            </a>
                        </div>
                        <p class="footer-widget-desc">我爱我家以匠心品质诠释品牌价值
                            <br>20年为超过15万+个家庭提供了高性价比家装解决方案及高品质居住空间
                        </p>
                        <div class="social-link with-border">
                            <ul>
                                <li>
                                    <a href="#" data-tippy="Facebook" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-facebook"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" data-tippy="Twitter" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-twitter"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" data-tippy="Pinterest" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-pinterest"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" data-tippy="Dribbble" data-tippy-inertia="true"
                                       data-tippy-animation="shift-away" data-tippy-delay="50"
                                       data-tippy-arrow="true" data-tippy-theme="sharpborder">
                                        <i class="fa fa-dribbble"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 pt-40">
                    <div class="footer-widget-item">
                        <h3 class="footer-widget-title">友情链接</h3>
                        <ul class="footer-widget-list-item">
                            <li>
                                <a th:href="@{../fullwidth}">精装案例</a>
                            </li>
                            <li>
                                <a th:href="@{../designer-list}">设计团队</a>
                            </li>
                            <li>
                                <a th:href="@{../worker-list}">施工团队</a>
                            </li>
                            <li>
                                <a th:href="@{../bookOnline}">在线预约</a>
                            </li>
                            <li>
                                <a th:href="@{..//login}">登录</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 pt-40">
                    <div class="footer-widget-item">
                        <h3 class="footer-widget-title">保障承诺</h3>
                        <ul class="footer-widget-list-item">
                            <li>
                                <a href="javascript:void(0);" >品牌承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >材料承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >廉洁承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >设计承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >服务承诺</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 pt-40">
                    <div class="footer-widget-item">
                        <h3 class="footer-widget-title">保障承诺</h3>
                        <ul class="footer-widget-list-item">
                            <li>
                                <a href="javascript:void(0);" >产品承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >工程承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >售后承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >预算承诺</a>
                            </li>
                            <li>
                                <a href="javascript:void(0);" >环保承诺</a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-3 pt-40">
                    <div class="footer-contact-info">
                        <h3 class="footer-widget-title">有问题？联系我们</h3>
                        <a class="number" href="tel://123-456-789">123 456 789</a>
                        <div class="address">
                            <ul>
                                <li>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="payment-method">
                        <a href="#">
                            <img src="../../Path/picture/1.png" alt="Payment Method">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="copyright">
                            <span class="copyright-text">© 2022 Pronia Made with <i
                                    class="fa fa-heart text-danger"></i> by
                        <a href="javascript:;" rel="noopener" target="_blank">Me</a> </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Footer Area End Here -->

<!-- Begin Scroll To Top -->
<a class="scroll-to-top" href="">
    <i class="fa fa-angle-double-up"></i>
</a>
<!-- Scroll To Top End Here -->

<script src="../../Path/js/plugins.min.js"></script>
<script src="../../Path/js/jquery-2.1.1.min.js"></script>
<script src="../../Path/js/main.js"></script> <!-- Resource jQuery -->
<script type="text/javascript" src="../../Path/js/jquery-1.9.1.min.js"></script>


<script type="text/javascript" src="https://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../Path/js/material.min.js"></script>
<script type="text/javascript" src="../../Path/js/moment-with-locales.min.js"></script>
<script type="text/javascript" src="../../Path/js/bootstrap-material-datetimepicker.js"></script>


<script>
    var content = document.getElementById("contentNum").value;//用于表示当前content个数
    var configs = [[${configList}]];//用于存放content[i]中的config个数，从下标1开始，即当只有一个房间时显示为1
    var contentDiv = document.getElementById("contentDiv1");
    var contentNum = document.getElementById("contentNum");
    if (contentNum.value == 0){
        content = 1;
        contentNum.value = 1;
        configs = new Array();
        configs[0] = 0;
        configs[1] = 1;
        contentDiv = document.getElementById("contentDiv2");
    }


    //添加Content
    function addContent() {
        content++;
        contentNum.value = content;
        configs[content] = 1;//初始化数组
        var divtemp = document.createElement("div");
        //添加标题 配置n
        var h3 = document.createElement("h3");
        h3.appendChild(document.createTextNode("配置" + content));
        divtemp.appendChild(h3)
        // contentDiv.appendChild(h3);
        //添加标题 配置n end

        //添加contenn div
        var contentn = document.createElement("div");
        contentn.setAttribute("id", "content" + content);
        contentn.setAttribute("class", "row");

        //contentn下的label
        var label = document.createElement("label");
        label.setAttribute("class", "col-form-label col-md-2 form-label");
        label.appendChild(document.createTextNode("房间"));
        contentn.appendChild(label);
        //contentn下的label end

        //contentn下的房间名称
        var contentn_div1 = document.createElement("div");
        contentn_div1.setAttribute("class", "col-md-4");
        var contentn_div1_input = document.createElement("input");
        contentn_div1_input.setAttribute("id", "content" + content + "_name");
        contentn_div1_input.setAttribute("name", "content" + content + "_name");
        contentn_div1_input.setAttribute("type", "text");
        contentn_div1_input.setAttribute("class", "form-control");
        contentn_div1_input.setAttribute("placeholder", "名称");
        contentn_div1.appendChild(contentn_div1_input);
        contentn.appendChild(contentn_div1);
        //contentn下的房间名称 end

        //contentn下的房间图片
        var contentn_div2 = document.createElement("div");
        contentn_div2.setAttribute("class", "col-md-4 file");
        contentn_div2.appendChild(document.createTextNode("选择文件"));
        //图片input框
        var contentn_div2_input = document.createElement("input");
        contentn_div2_input.setAttribute("id", "content" + content + "_pic");
        contentn_div2_input.setAttribute("name", "content" + content + "_pic");
        contentn_div2_input.setAttribute("data-content", content);
        contentn_div2_input.setAttribute("type", "file");
        contentn_div2_input.setAttribute("class", "form-control");
        contentn_div2_input.setAttribute("onchange", "changePic(this)");
        contentn_div2.appendChild(contentn_div2_input);
        //图片input框 end
        //imageHolder
        var contentn_div2_imageHolder = document.createElement("div");
        contentn_div2_imageHolder.setAttribute("id", "content" + content + "_imageHolder");
        contentn_div2.appendChild(contentn_div2_imageHolder);
        //imageHolder end
        contentn.appendChild(contentn_div2);
        //contentn下的房间图片 end

        //contentn下的添加房间
        var contentn_div3 = document.createElement("div");
        contentn_div3.setAttribute("class", "col-md-2");
        //添加房间按钮
        var contentn_div3_button = document.createElement("button");
        contentn_div3_button.setAttribute("id", "content" + content + "_btn");
        contentn_div3_button.setAttribute("type", "button");
        contentn_div3_button.setAttribute("class", "my-btn btn btn-success glyphicon glyphicon-plus");
        contentn_div3_button.setAttribute("onclick", "addContent()");
        contentn_div3_button.setAttribute("style", "margin:0");
        contentn_div3_button.appendChild(document.createTextNode("添加房间"));
        contentn_div3.appendChild(contentn_div3_button);
        //添加房间按钮 end
        contentn.appendChild(contentn_div3);
        //contentn下的添加房间 end

        //contentn下的配置1
        var contentn_div4 = document.createElement("div");
        contentn_div4.setAttribute("class", "form-group row");
        contentn_div4.setAttribute("id", "content" + content + "_config1");
        var contentn_div4_div1 = document.createElement("div");
        contentn_div4_div1.setAttribute("id", "content" + content + "_configDiv");
        var contentn_div4_div1_div1 = document.createElement("div");
        contentn_div4_div1_div1.setAttribute("class", "col-lg-10");
        contentn_div4_div1_div1.setAttribute("style", "margin-top:10px");
        var contentn_div4_div1_div1_div1 = document.createElement("div");
        contentn_div4_div1_div1_div1.setAttribute("class", "col-md-1");
        var contentn_div4_div1_div1_div1_label = document.createElement("label");
        contentn_div4_div1_div1_div1_label.setAttribute("class", "col-form-label col-md-2 form-label");
        contentn_div4_div1_div1_div1_label.appendChild(document.createTextNode("内容"));
        contentn_div4_div1_div1.appendChild(contentn_div4_div1_div1_div1);
        contentn_div4_div1_div1.appendChild(contentn_div4_div1_div1_div1_label);
        //config列
        var contentn_div4_div1_div1_div2 = document.createElement("div");
        contentn_div4_div1_div1_div2.setAttribute("class", "row");
        //config列 内容块
        var categroyDiv = document.createElement("div");
        categroyDiv.setAttribute("class", "col-md-6");
        //config列内容块 input
        var categroyInput = document.createElement("input");
        categroyInput.setAttribute("name", "content" + content + "_config1_category");
        categroyInput.setAttribute("type", "text");
        categroyInput.setAttribute("class", "form-control");
        categroyInput.setAttribute("placeholder", "内容");
        categroyDiv.appendChild(categroyInput);
        //config列内容块 input end
        contentn_div4_div1_div1_div2.appendChild(categroyDiv);
        //config列 内容块end

        //config列 品牌块
        var brandDiv = document.createElement("div");
        brandDiv.setAttribute("class", "col-md-5");
        //config列品牌块 input
        var brandInput = document.createElement("input");
        brandInput.setAttribute("name", "content" + content + "_config1_brand");
        brandInput.setAttribute("type", "text");
        brandInput.setAttribute("class", "form-control");
        brandInput.setAttribute("placeholder", "品牌");
        brandDiv.appendChild(brandInput);
        //config列品牌块 input end
        contentn_div4_div1_div1_div2.appendChild(brandDiv);
        //config列 品牌块end

        //config列 添加配置块
        var configBtn = document.createElement("div");
        configBtn.setAttribute("class", "col-md-1");
        //config列添加配置块 button
        var addconfigBtn = document.createElement("button");
        addconfigBtn.setAttribute("class", "my-btn btn btn-success glyphicon glyphicon-plus");
        addconfigBtn.setAttribute("type", "button");
        addconfigBtn.setAttribute("onclick", "addConfig(this)");
        addconfigBtn.setAttribute("name", "content" + content + "_config1_btn");
        addconfigBtn.setAttribute("data-div", "content" + content + "_configDiv");
        addconfigBtn.setAttribute("data-content", content);
        addconfigBtn.setAttribute("data-config", configs[content]);
        addconfigBtn.appendChild(document.createTextNode("添加配置"));
        configBtn.appendChild(addconfigBtn);
        //config列添加配置块 button end
        contentn_div4_div1_div1_div2.appendChild(configBtn);
        //config列 添加配置块end
        contentn_div4_div1_div1.appendChild(contentn_div4_div1_div1_div2);
        //config列 end
        contentn_div4_div1.appendChild(contentn_div4_div1_div1);
        contentn_div4.appendChild(contentn_div4_div1);
        contentn.appendChild(contentn_div4);
        //contentn下的配置1 end

        divtemp.appendChild(contentn);
        contentDiv.appendChild(divtemp);
        //添加contentn div end
    }

    //添加配置
    function addConfig(now) {
        var parentDiv = document.getElementById(now.getAttribute("data-div"));
        var contentNow = now.getAttribute("data-content");
        var configNow = now.getAttribute("data-config");
        configs[contentNow]++;

        // console.log(parentDiv.id);
        var div = document.createElement("div");
        div.setAttribute("class", "col-lg-10");

        var divTemp = document.createElement("div");
        divTemp.setAttribute("class", "col-md-1");
        div.appendChild(divTemp);

        var label = document.createElement("label");
        label.setAttribute("class", "col-form-label col-md-2 form-label");
        label.appendChild(document.createTextNode("内容"));
        div.appendChild(label);

        var div1 = document.createElement("div");
        div1.setAttribute("class", "row");
        var div2 = document.createElement("div");
        div2.setAttribute("class", "col-md-6");
        var input1 = document.createElement("input");
        input1.setAttribute("type", "text");
        input1.setAttribute("class", "form-control");
        input1.setAttribute("placeholder", "内容");
        input1.setAttribute("name", "content" + contentNow + "_config" + configs[contentNow] + "_category");
        div2.appendChild(input1);

        var div3 = document.createElement("div");
        div3.setAttribute("class", "col-md-5");
        var input2 = document.createElement("input");
        input2.setAttribute("type", "text");
        input2.setAttribute("class", "form-control");
        input2.setAttribute("placeholder", "品牌");
        input2.setAttribute("name", "content" + contentNow + "_config" + configs[contentNow] + "_brand");
        div3.appendChild(input2);

        var div4 = document.createElement("div");
        div4.setAttribute("class", "col-md-1");
        var btn = document.createElement("button");
        btn.setAttribute("type", "button");
        btn.setAttribute("name", "content" + contentNow + "_config" + configs[contentNow] + "_btn");
        btn.setAttribute("data-div", "content" + contentNow + "_configDiv");
        btn.setAttribute("data-content", contentNow);
        btn.setAttribute("data-config", configs[contentNow]);
        btn.setAttribute("class", "my-btn btn btn-success glyphicon glyphicon-plus");
        btn.setAttribute("onclick", "addConfig(this)");
        btn.appendChild(document.createTextNode("添加配置"));
        div4.appendChild(btn);

        div1.appendChild(div2);
        div1.appendChild(div3);
        div1.appendChild(div4);
        div.appendChild(div1);


        parentDiv.appendChild(div);
    }

    $("#pic").on('change', function () {
        if (typeof (FileReader) != "undefined") {
            var image_holder = $("#pic-image-holder");
            image_holder.empty();
            var reader = new FileReader();
            reader.onload = function (e) {
                $("<img />", {
                    "src": e.target.result,
                    "class": "thumb-image"
                }).appendTo(image_holder);
            }
            image_holder.show();
            reader.readAsDataURL($(this)[0].files[0]);
        } else {
            alert("你的浏览器不支持FileReader.");
        }
    });

    function changePic(now) {
        console.log(now.id);
        var nowContent = parseInt(now.getAttribute("data-content"));
        console.log(nowContent);
        if (typeof (FileReader) != "undefined") {
            var image_holder = document.getElementById("content" + nowContent + "_imageHolder");
            console.log(image_holder.id);
            image_holder.innerHTML = "";
            var reader = new FileReader();
            reader.onload = function (e) {
                $("<img />", {
                    "src": e.target.result,
                    "class": "thumb-image"
                }).appendTo(image_holder);
            }
            // image_holder.show();
            console.log(now.files[0]);
            reader.readAsDataURL(now.files[0]);
        } else {
            alert("你的浏览器不支持FileReader.");
        }
    }

    function sub() {
        var array = document.getElementById("contentArrays");
        array.value = configs;
    }

    /**
     * 提交表单
     **/
    // function sub() {
    //     $.ajax({
    //         type: "POST",//方法类型
    //         dataType: "json",//预期服务器返回的数据类型
    //         url: "/addBook",//url
    //         data: $('#bookForm').serialize(),
    //         success: function (result) {
    //             console.log(result);//打印服务端返回的数据(调试用)
    //             if (result == 200) {
    //                 alert("插入成功");
    //             }
    //             ;
    //         },
    //         error: function () {
    //             alert("异常！");
    //         }
    //     });
    // }
</script>
</body>

<style>
    .main-nav > ul > li > a {
        width: 60px;
    }

    .btn.active.focus, .btn.active:focus, .btn.focus, .btn:active.focus, .btn:active:focus, .btn:focus {
        outline: none;
        box-shadow: none;
    }

    a:hover {
        text-decoration: none
    }

    .submit-section .submit-btn {
        padding: 12px 30px;
        font-weight: 600;
        font-size: 16px;
        min-width: 100px;
        color: white;
        background-color: #09e5ab;
        border: 1px solid #09e5ab;
    }

    .submit-btn:hover {
        background-color: #09dca4;
        border: 1px solid #09e5ab;
    }

    .form-label {
        font-size: 16px;
        font-weight: normal;
    }

    .my-btn {
        color: #fff;
        background-color: #09e5ab;
        border-color: #09e5ab;
        padding: 4px 20px;
    }

    .file {
        position: relative;
        display: inline-block;
        background: #ffffff;
        border: 1px solid #d1eeff;
        border-radius: 4px;
        padding: 4px 12px;
        overflow: hidden;
        color: #1E88C7;
        text-decoration: none;
        text-indent: 0;
    }

    .file input {
        position: absolute;
        font-size: 100px;
        right: 0;
        top: 0;
        opacity: 0;
        -ms-filter: 'alpha(opacity=0)';
    }

    .file:hover {
        background: #AADFFD;
        border-color: #78C3F3;
        color: #004974;
        text-decoration: none;
    }

</style>

</html>
